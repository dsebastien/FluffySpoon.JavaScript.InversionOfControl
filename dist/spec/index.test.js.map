{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../spec/index.test.ts"],"names":[],"mappings":"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","sourcesContent":["import test from 'ava';\r\nimport { Injectable, Inject, Container } from \"../src\";\r\n\r\n@Injectable\r\nclass B1 {\r\n\r\n}\r\n\r\n@Injectable\r\nclass B2 {\r\n\r\n}\r\n\r\n@Injectable\r\nclass A2 {\r\n\r\n}\r\n\r\n@Injectable\r\nclass A1 {\r\n    constructor(\r\n        @Inject public a: B1,\r\n        @Inject public c: B2,\r\n        @Inject public b: A2) \r\n    {\r\n    }\r\n}\r\n\r\n@Injectable\r\nclass ExplodingB2 extends B2 {\r\n    constructor() {\r\n        throw new Error('Too bad');\r\n    }\r\n}\r\n\r\n@Injectable\r\nclass Bar {\r\n    constructor(\r\n        @Inject public a: A1, \r\n        @Inject public b: A2, \r\n        @Inject public c: A2) \r\n    {\r\n    }\r\n}\r\n\r\nlet container: Container;\r\n\r\ntest.beforeEach(() => {\r\n\tcontainer = new Container();\r\n});\r\n\r\ntest('can resolve Bar', t => {\r\n    const bar = container.resolve(Bar);\r\n\r\n    t.not(bar, null);\r\n\r\n    t.not(bar.a, null);\r\n    t.not(bar.a.a, null);\r\n    t.not(bar.a.b, null);\r\n    t.not(bar.a.c, null);\r\n\r\n    t.not(bar.b, null);\r\n\r\n    t.not(bar.c, null);\r\n    \r\n    t.not(bar.c, bar.b);\r\n    t.not(bar.c, bar.a.b);\r\n});\r\n\r\ntest('explodes when using exploding dependency for Bar', t => {\r\n    container.whenRequestingType(B2).useType(ExplodingB2);\r\n\r\n    const bar = container.resolve(Bar);\r\n});"]}